
var oldsize = 0;

function fileInfo(e) {
    e.addClass("is-active"), e.addClass("is-ready"), setTimeout((function () {
        e.removeClass("is-active")
    }), 520)
}

function changeValue(e) {
    document.getElementById("value").innerText = e
}

function getNewValue(e) {
    form = e, value = document.getElementById("value").innerText, "E =" == value && simulateObject.energy(form), "M =" == value && simulateObject.magnetization(form)
}
$(".spin-grid__visible").bind("resize", (function () {
    var e = this.parentElement.offsetWidth,
        i = this.offsetWidth,
        t = e - i;
    i != oldsize && (oldsize = i, document.querySelector(".sidebar-grid__import").style.width = "calc(" + t + "px - 1em)", document.querySelector(".sidebar-grid__toolbar").style.width = "calc(" + t + "px - 1em)"), document.querySelector("canvas").style.width = this.style.width
})), $(".sidebar-grid__import").bind("resize", (function () {
    var e = this.parentElement.offsetHeight - this.offsetHeight;
    document.querySelector(".sidebar-grid__toolbar").style.height = "calc(" + e + "px - 1em)"
})), $("#file-spins").on("input keyup upload-pos", (function () {
    fileInfo($('[for="file-spins"]'))
})), $("#refresh").on("click", (function () {
    label = $(".is-ready"), label.addClass("is-active"), setTimeout((function () {
        label.removeClass("is-active"), label.removeClass("is-ready")
    }), 520), $(".dragover").removeClass("dragover")
})), $(".checked").on("click", (function () {
    $(".checked.is-active").removeClass("is-active"), $(this).addClass("is-active")
})), $(".check-refresh").on("click", (function () {
    $(".checked.is-active").removeClass("is-active")
}));
var html2canvasConfiguration = {
    useCORS: !0,
    backgroundColor: null,
    logging: !0,
    imageTimeout: 0
};

function DownloadImage() {
    html2canvas(document.querySelector("#webgl-canvas"), html2canvasConfiguration).then((function (e) {
        var i = document.createElement("a");
        i.href = e.toDataURL(), i.download = "spin.png", i.click(), i.remove()
    }))
}